---
title: "Hugoã®ãƒ†ãƒ¼ãƒ Stack ã«ã¤ã„ã¦"
description: è§¦ã‚Šå§‹ã‚ãŸã®ã§ã¾ã¨ã‚ã¦ã„ã
date: 2024-09-05T12:48:18+09:00
categories: ["homepage"]
tags: ["Hugo","Theme"]
image: /images/hugo-theme-stack.avif
imageDescription: ã‹ã‚ã†ã
math: 
license: 
hidden: false
comments: true
draft: false
---
## ã¯ã˜ã‚ã«

å½“ã‚µã‚¤ãƒˆã§æ–°ã—ã„ãƒ†ãƒ¼ãƒã‚’æ¡ç”¨ã—ã¾ã—ãŸã€‚  
æ™‚é–“ãŒçµŒã¤ã¨ãã‚Œã„ã«å¿˜ã‚Œå»ã‚‹ãŸã‚ã€ä¿®æ­£ã—ãŸå†…å®¹ã‚’è‡ªåˆ†ç”¨ã«ãƒ¡ãƒ¢ã—ã¦ãŠã“ã†ã¨æ€ã„ã¾ã™ã€‚  

æ­£ã—ã„å†…å®¹ã‹ã©ã†ã‹å®šã‹ã§ã¯ãªã„ãŸã‚ã€ã”è¦§ã«ãªã‚‹æ–¹ã¯ã”æ³¨æ„ãã ã•ã„ã€‚  

### æ¡ç”¨ã—ãŸãƒ†ãƒ¼ãƒ

:link: [Stack | Hugo Themes](https://themes.gohugo.io/themes/hugo-theme-stack/)  
:link: [CaiJimmy/hugo-theme-stack: Card-style Hugo theme designed for bloggers](https://github.com/CaiJimmy/hugo-theme-stack)

### è¿½è¨˜ 2024-09-06

åˆæœŸè¨­å®šã§è¡Œã£ãŸå†…å®¹ã‚’æ›¸ãçµ‚ã‚ã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€åŒã˜è¶£æ—¨ã®å†…å®¹ã‚’æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚µã‚¤ãƒˆã‚’ç™ºè¦‹ã€‚  
ã‚ã£ã¡ã‚ƒçœŸä¼¼ã—ãŸã¿ãŸã„ã«ãªã£ã¦ã—ã¾ã£ãŸã€‚ã”ã‚ã‚“ãªã•ã„ãƒ»ãƒ»ãƒ»ã€‚  

:link: [Hugo Stackãƒ†ãƒ¼ãƒã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º](https://notes.nakurei.com/post/customize-stack-theme/)

â†‘ ã¾ãšã¯ã“ã¡ã‚‰ã®ã‚µã‚¤ãƒˆã‚’ã”è¦§ã„ãŸã ãã»ã†ãŒã‚ˆã‚ã—ã„ã‹ã¨ã€‚  

è‰¯ã„ã‚‚ã®è¦‹ä»˜ã‘ãŸï¼  
ã¨æ€ã£ã¦ã€ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã«ãƒ•ã‚¡ã‚¤ãƒ«åã‚’è¡¨ç¤ºã•ã›ã‚‹æ–¹æ³•ã€å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸ ğŸ™‡â€â™‚ï¸  

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®åŸºæœ¬

ãƒ†ãƒ¼ãƒãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚’è¡Œã†ã¨ã€ãƒ†ãƒ¼ãƒã®æ›´æ–°ãŒã‚ã£ãŸã¨ãã«ä¸Šæ›¸ãã•ã‚Œã¦ã—ã¾ã†ãŸã‚ã€å¤‰æ›´ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°‚ç”¨ã®å ´æ‰€ã«ã‚³ãƒ”ãƒ¼ã—ã¦ç·¨é›†ã—ã¾ã™ã€‚  

HugoãŒå‹•ä½œã™ã‚‹ã¨ãã€ãƒ†ãƒ¼ãƒãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ä¸­èº«ã‚’èª­ã¿è¾¼ã‚“ã§è¡¨ç¤ºã‚’ã—ã¦ãã‚Œã¾ã™ãŒã€å°‚ç”¨ã®å ´æ‰€ã«ç½®ã„ãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒå„ªå…ˆã•ã‚Œã‚‹ä»•æ§˜ã«ãªã£ã¦ã„ã¾ã™ã€‚  

#### ã‚µã‚¤ãƒˆå…¨ä½“ã®åŸºæœ¬è¨­å®š

ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ã‚ã‚‹ `config.yaml` ã‚’è§¦ã‚Šã¾ã™ã€‚  
ãƒ†ãƒ¼ãƒãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®ãƒ«ãƒ¼ãƒˆã‚„ã€exampleSiteã«ã‚ã‚‹ã‚‚ã®ã‚’æŒã£ã¦ãã¦ä¿®æ­£ã™ã‚‹ã®ãŒæ¥½ã§ã™ã€‚  
ä»Šå›ã¯exampleSiteã«ã‚ã‚‹ `hugo.yaml` ã‚’ä½¿ã„ã¾ã—ãŸã€‚  
ãƒ•ã‚¡ã‚¤ãƒ«åã¯ã€Œconfigã€ã˜ã‚ƒãªãã¦ã€Œhugoã€ã§ã‚‚è‰¯ã„ã¿ãŸã„ã§ã™ã­ã€‚

å°šã€ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã¯ã€yamlã€tomlã€jsonãŒä½¿ãˆã‚‹ãŸã‚ã€ãŠå¥½ã¿ã®ã‚‚ã®ã§ã€‚  

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚„ã‚¹ã‚¿ã‚¤ãƒ«ã®è¨­å®š

`/assets` â† ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã®ä¿å­˜å…ˆ  
`/layouts` â† ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿å­˜å…ˆ  

ã“ã¡ã‚‰ã‚‚ãƒ†ãƒ¼ãƒãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‹ã‚‰å¤‰æ›´ã—ãŸã„ã‚‚ã®ã‚’æŒã£ã¦ãã¦ä¿®æ­£ã—ã¾ã™ã€‚  

## å…¨ä½“è¨­å®š config.yaml

å…¨éƒ¨æ›¸ãã¨å¤§å¤‰ãªã®ã§ã€å¼•ã£ã‹ã‹ã‚Šã‚„ã™ã„ã‚‚ã®ã¨ã‹ã€‚  
ã“ã“ã«æœªæ²è¼‰ã®ã‚‚ã®ã§é‡è¦ãªã®ã¯ã€ã‚µã‚¤ãƒˆã®URLã¨ã‹è¨€èªè¨­å®šã¨ã‹ã€‚  

### Google Analytics

Analyticsã®ã‚³ãƒ¼ãƒ‰ã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚  

```yaml {name="config.yaml"}
services:
    # GA Tracking ID
    googleAnalytics:
        id: hoge-ID     # è‡ªèº«ã®ã‚¿ã‚°
```

### ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯

åˆæœŸå€¤ã®ã¾ã¾ã§ã™ãŒã€ã‚ã¨ã§å¤‰ãˆã‚‹ã‹ã‚‚ã€‚  

```yaml {name="config.yaml"}
permalinks:
    post: /p/:slug/     # æŠ•ç¨¿ã—ãŸè¨˜äº‹ã®URLï¼ˆ/p/ã‚¿ã‚¤ãƒˆãƒ«ï¼‰
    page: /:slug/       # ãƒšãƒ¼ã‚¸ï¼ˆAboutã¨ã‹ï¼‰ã®URL
```

### ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«

`languages:` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸­ã«ã¯ã€è‹±èªã€ä¸­å›½èªã€ã‚¢ãƒ©ãƒ“ã‚¢èªï¼ŸãŒã‚ã‚Šã€è¨ªå•è€…ãŒåˆ‡ã‚Šæ›¿ãˆã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚  
ã“ã®ã‚µã‚¤ãƒˆã¯æ—¥æœ¬äººå‘ã‘ãªã®ã§ã€å…ƒã®è¨€èªã¯ã™ã¹ã¦å‰Šé™¤ã—ã¦ã€æ—¥æœ¬èªã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚  

```yaml {name="config.yaml"}
languages:  # åˆ‡ã‚Šæ›¿ãˆãªã„ã®ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ä¸è¦ã¨æ€ã„ã¤ã¤æ®‹ã—ã¦ã„ã‚‹ã€‚
    ja:
        languageName: æ—¥æœ¬èª
        title: k-kaz ãŒ Hugo ã§éŠã¶ã‚µã‚¤ãƒˆ   # ã“ã‚Œã ã‘ã‚ã‚Œã°å•é¡Œãªã„ã¯ãšã€‚
        weight: 1                           # è¤‡æ•°è¨€èªã‚’ç”¨æ„ã—ãŸã¨ãã«æœ‰åŠ¹ã€‚
        params:
            description: 
```

### 1ãƒšãƒ¼ã‚¸ã«è¡¨ç¤ºã™ã‚‹è¨˜äº‹æ•°ã‚’è¨­å®š

å…ƒã€…1è¡Œã§ `paginate: 3` ã¨ãªã£ã¦ã„ã¾ã—ãŸã€‚  
å‹•ä½œã¯ã—ã¾ã™ãŒæœ€æ–°ã®Hugoã§ã¯éæ¨å¥¨ã®ã‚ˆã†ã§ã€WarningãŒå‡ºã¦ã„ã¾ã—ãŸã€‚  
ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚  

```yaml {name="config.yaml"}
pagination:
  disableAliases: false
  pagerSize: 3              # 3ã¤è¡¨ç¤ºã•ã›ã‚‹
  path: page
```

### æ—¥ä»˜ã®ã‚¹ã‚¿ã‚¤ãƒ«

`Params:` ã®ä¸­ã§è¨­å®šã€‚  

```yaml {name="config.yaml"}
Params:
    dateFormat:
        published: 2006/01/02               # æŠ•ç¨¿æ—¥ã€å¹´æœˆæ—¥ãŒã‚ã‹ã‚Šã‚„ã™ã„ã®ã§ã€‚
        lastUpdated: 2006/01/02/15:04 JST   # æ›´æ–°æ—¥ã€åŒä¸Šã€‚
```

### ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½

`Params:` ã®ä¸­ã§è¨­å®šã€‚  
æ©Ÿèƒ½ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§æ¥½ã¡ã‚“ã§ã™ã€‚  
ç§ã¯giscusã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚ > :link: [Hugoã«ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’ä»˜ã‘ã‚‹ï¼ˆgiscusç·¨ï¼‰](/p/hugoã«ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’ä»˜ã‘ã‚‹giscusç·¨)

```yaml {name="config.yaml"}
params:
    comments:
        enabled: true     // ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«
        provider: giscus  // ã©ã®ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½ã‚’ä½¿ã†ã‹é¸æŠ
        giscus:           // providerã§é¸æŠã™ã‚‹æ©Ÿèƒ½å
            repo: hoge/hoge-repo                // ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ä¿ç®¡ç”¨ãƒªãƒã‚¸ãƒˆãƒªå
            repoID: hoge-repo-ID                // è‡ªå‹•ç™ºè¡Œã•ã‚Œã‚‹ãƒªãƒã‚¸ãƒˆãƒªã®ID
            category: General                   // Discussionså†…ã§ã©ã®ã‚«ãƒ†ã‚´ãƒªã«ä¿ç®¡ã™ã‚‹ã‹
            categoryID: hoge-cat-ID             // ã‚«ãƒ†ã‚´ãƒªã®ID
            mapping: title                      // ä¿ç®¡æ™‚ã®è¡¨é¡Œã¨ãªã‚‹ã‚‚ã®ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€URLç­‰ï¼‰
            lightTheme: preferred_color_scheme  // ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ã®ã¨ãã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ï¼ˆã“ã“ã§ã¯ãƒ¢ãƒ¼ãƒ‰ã§è‡ªå‹•èª¿æ•´ï¼Ÿï¼‰
            darkTheme: preferred_color_scheme   // ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã®ã¨ãã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ï¼ˆã“ã“ã§ã¯ãƒ¢ãƒ¼ãƒ‰ã§è‡ªå‹•èª¿æ•´ï¼Ÿï¼‰
            lang: ja                            // é …ç›®ãŒãªã‹ã£ãŸã®ã§è‡ªåˆ†ã§è¿½åŠ ã—ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç­‰ã‚’æ—¥æœ¬èªã«
            reactionsEnabled: 1
            emitMetadata: 0
```

## ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆï¼ˆãƒšãƒ¼ã‚¸ï¼‰

|ã‚ªãƒªã‚¸ãƒŠãƒ«|è¤‡å†™å…ˆ|
|---|---|
|/themes/stack/exampleSite/content/page|/content/page|

æ¤œç´¢ã¨ã‹ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã¨ã‹ã®æ©Ÿèƒ½ã§ã™ã€‚  
`config.yaml` ã®ä¸­ã§è¨­å®šãŒã‚ã‚Šã¾ã™ãŒã€ãã“ã§æœ‰åŠ¹ã«ã—ã¦ã‚‚ãƒšãƒ¼ã‚¸ãŒãªã„ã¨ç”»é¢ã«å‡ºã¦ãã¾ã›ã‚“ã€‚  
/themes/stack/exampleSite/content/page å†…ã«ã‚ã‚‹ã‚‚ã®ã‚’ã€/content/pageã¸ã‚³ãƒ”ãƒ¼ã™ã‚‹ã“ã¨ã§ç”»é¢ã«è¡¨ç¤ºã§ãã¾ã™ã€‚  
æœ€åˆã€æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã—ã¦ã‚‚å‡ºãªã„ç†ç”±ãŒä¸æ˜ã§é€”æ–¹ã«æš®ã‚Œã¾ã—ãŸã€‚  

## ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ

|ã‚ªãƒªã‚¸ãƒŠãƒ«|è¤‡å†™å…ˆ|
|---|---|
|/themes/stack/assets/scss|/assets/scss|

### ãƒ•ã‚©ãƒ³ãƒˆã‚’å¤‰ãˆã‚‹

ä¸­å›½è£½ã®ãŸã‚ã‹ã€ãƒ•ã‚©ãƒ³ãƒˆã«é•å’Œæ„ŸãŒã‚ã‚‹ã®ã§å¤‰ãˆã¾ã—ãŸã€‚  

/themes/stack/assets/scss/variables.scss â†’ /assets/scss/ ã¸ã‚³ãƒ”ãƒ¼ã€‚  
4è¡Œç›®ã«ã‚ã‚‹ `--base-font-family` ã®è¡Œã‚’å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚  

3è¡Œç›®ã¯ä¸­å›½ç³»ã‹ãªï¼Ÿ
ã„ã‚‰ãªã„ã¨æ€ã„ã¾ã™ãŒä»Šã¯æ®‹ã—ã¦ã‚ã‚Šã¾ã™ã€‚  

```scss {name="/assets/scss/variables.scss"}
:root {
    --sys-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Droid Sans", "Helvetica Neue";
    --zh-font-family: "PingFang SC", "Hiragino Sans GB", "Droid Sans Fallback", "Microsoft YaHei";
    --base-font-family: -apple-system,BlinkMacSystemFont,segoe ui,Roboto,Oxygen,Ubuntu,Cantarell,open sans,helvetica neue,sans-serif, var(--sys-font-family), var(--zh-font-family), sans-serif;
    --code-font-family: Menlo, Monaco, Consolas, "Courier New", var(--zh-font-family), monospace;
}
```

## ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

æœªç€æ‰‹ã€‚  

## ä¸å…·åˆä¿®æ­£

### resources.ToCSS ã¯ã‚‚ã†å¤ã„

Hugo Serverã‚’èµ·å‹•ã™ã‚‹ã¨ä¸‹è¨˜ã®WarningãŒå‡ºã¾ã™ã€‚  

***WARN  deprecated: resources.ToCSS was deprecated in Hugo v0.128.0 and will be removed in a future release. Use css.Sass instead.***  

`resources.ToCSS` ã˜ã‚ƒãªãã¦ã€ `css.Sass` ã‚’ä½¿ãˆã¨è¨€ã£ã¦ã„ã¾ã™ã€‚  
Sassã‚’CSSã«ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã‚‰ã—ã„ã€‚  

- [ToCSS | Hugo](https://gohugo.io/hugo-pipes/transpile-sass-to-css/) â† å¤ã„
- [css.Sass | Hugo](https://gohugo.io/functions/css/sass/) â† æ–°ã—ã„

ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼å†…ã‚’æ¤œç´¢ã—ã¦2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ« `style.html`ã€`disqusjs.html` ã§è©²å½“ç®‡æ‰€ã‚’ç™ºè¦‹ã—ã¾ã—ãŸã®ã§ä¿®æ­£ã€‚  

#### style.html

|ã‚ªãƒªã‚¸ãƒŠãƒ«|è¤‡å†™å…ˆ|
|---|---|
|/themes/stack/layouts/partials/head/style.html|/layouts/partials/head|

```html {name="/themes/stack/layouts/partials/head/style.html"}
{{ $sass := resources.Get "scss/style.scss" }}
{{ $style := $sass | resources.ToCSS | minify | resources.Fingerprint "sha256" }}
<link rel="stylesheet" href="{{ $style.RelPermalink }}">
```

2è¡Œç›®ã® `resources.ToCSS` ã‚’ `css.Sass` ã«ä¿®æ­£ã—ã¾ã—ãŸã€‚  

```html {name="/layouts/partials/head/style.html"}
{{ $sass := resources.Get "scss/style.scss" }}
{{ $style := $sass | css.Sass | minify | resources.Fingerprint "sha256" }}
<link rel="stylesheet" href="{{ $style.RelPermalink }}">
```

#### disqusjs.html

|ã‚ªãƒªã‚¸ãƒŠãƒ«|è¤‡å†™å…ˆ|
|---|---|
|/themes/stack/layouts/partials/comments/provider/disqusjs.html|/layouts/partials/comments/provider|

```html {name="/themes/stack/layouts/partials/comments/provider/disqusjs.html"}
{{- $pc := .Site.Config.Privacy.Disqus -}}
{{- $disqusjs := .Site.Params.Comments.disqusjs -}}
{{- if and (not $pc.Disable) (and $disqusjs.Shortname $disqusjs.ApiKey) -}}

{{- $style := resources.Get "scss/partials/comments/disqusjs.scss" | resources.ToCSS | minify -}}
```

5è¡Œç›®ã® `resources.ToCSS` ã‚’ `css.Sass` ã«ä¿®æ­£ã—ã¾ã—ãŸã€‚  

```html {name="/layouts/partials/comments/provider/disqusjs.html"}
{{- $pc := .Site.Config.Privacy.Disqus -}}
{{- $disqusjs := .Site.Params.Comments.disqusjs -}}
{{- if and (not $pc.Disable) (and $disqusjs.Shortname $disqusjs.ApiKey) -}}

{{- $style := resources.Get "scss/partials/comments/disqusjs.scss" | css.Scss | minify -}}
```

### paginate ã¯ã‚‚ã†å¤ã„

Hugo Serverã‚’èµ·å‹•ã™ã‚‹ã¨ä¸‹è¨˜ã®WarningãŒå‡ºã¾ã™ã€‚  

***WARN  deprecated: site config key paginate was deprecated in Hugo v0.128.0 and will be removed in a future release. Use pagination.pagerSize instead.***  

1ç”»é¢ã«è¡¨ç¤ºã™ã‚‹è¨˜äº‹ã®æ•°ã‚’æŒ‡å®šã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚  
`paginate` ã¯å¤ã„ã®ã§ `pagination.pagerSize` ã«å¤‰ãˆãªã•ã„ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚  

`config.yamal` ã®ä¸­ã§è¨­å®šã—ã¾ã™ã€‚  
å…ƒã¯ `paginate: 3` ã®1è¡Œã§ã™ãŒã€ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚  

```yaml {name=config.yaml}
pagination:
  disableAliases: false
  pagerSize: 3
  path: page
```
